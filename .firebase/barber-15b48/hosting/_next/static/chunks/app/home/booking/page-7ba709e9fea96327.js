(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{4301:(e,a,t)=>{Promise.resolve().then(t.bind(t,765))},708:(e,a,t)=>{"use strict";t.d(a,{db:()=>n,j:()=>o,k:()=>d});var r=t(9904),s=t(399),i=t(7058);let l=(0,r.Wp)({apiKey:"AIzaSyA57D78rdd5x_RCNQT1EhBtuBdrdbFodLs",authDomain:"barber-15b48.firebaseapp.com",projectId:"barber-15b48",storageBucket:"barber-15b48.firebasestorage.app",messagingSenderId:"215556113867",appId:"1:215556113867:web:30c08a848e185dcf0d224e",measurementId:"G-0KZEYZWEFL"}),n=(0,i.aU)(l),o=(0,s.xI)(l),d=(0,i.aU)(l)},6046:(e,a,t)=>{"use strict";var r=t(6658);t.o(r,"redirect")&&t.d(a,{redirect:function(){return r.redirect}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},765:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(5155),s=t(2115),i=t(6046),l=t(7058),n=t(708);function o(){let e=(0,i.useRouter)(),[a,t]=(0,s.useState)({name:"",date:"",time:""}),[o,d]=(0,s.useState)(["Grooming"]),[c,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)(0),[b,g]=(0,s.useState)(!1),x={Grooming:75e3,"Hair Straightening":5e4,"Hair Spa":5e4,Waxing:35e3,"Hot Towel Service":2e4,"Hair Coloring":125e3},p=()=>o.reduce((e,a)=>e+(x[a]||0),0);(0,s.useEffect)(()=>{h(p())},[o]);let v=e=>{let{name:r,value:s}=e.target;t({...a,[r]:s})},j=e=>{d(o.filter((a,t)=>t!==e))},w=(e,a)=>{let t=[...o];t[e]=a,d(t)},f=async t=>{t.preventDefault(),g(!0);try{let t={name:a.name,services:o,date:a.date,time:a.time,totalPrice:u,createdAt:(0,l.O5)()};await (0,l.gS)((0,l.rJ)(n.db,"reservations"),t),m(!0),setTimeout(()=>{m(!1),e.push("/")},3e3)}catch(e){console.error("Error saving reservation: ",e),alert("Gagal membuat reservasi. Silakan coba lagi.")}finally{g(!1)}};return(0,r.jsxs)("div",{className:"relative min-h-screen",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[#1a1310] overflow-hidden",children:(0,r.jsx)("img",{src:"/images/barber.jpg",alt:"Barber cutting hair",className:"w-full h-screen object-cover"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-70"}),(0,r.jsx)("div",{className:"relative min-h-screen flex items-center justify-center py-10",children:(0,r.jsxs)("div",{className:"p-8 rounded-lg shadow-lg w-full max-w-md z-10",style:{background:"rgba(26, 19, 16, 0.85)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center text-white mb-6",children:"Reservasi Barbershop"}),c&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-green-600 text-white text-center rounded-lg",children:"Reservasi Telah Dibuat! Anda akan diarahkan ke Home..."}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Nama Lengkap"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:v,required:!0,className:"mt-1 block w-full p-2 bg-transparent border border-gray-600 rounded-lg shadow-sm text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"services",className:"block text-sm font-medium text-gray-300",children:"Pilih Layanan"}),o.map((e,a)=>(0,r.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,r.jsxs)("select",{value:e,onChange:e=>w(a,e.target.value),required:!0,className:"block w-full p-2 bg-black border border-gray-600 rounded-lg shadow-sm text-white",children:[(0,r.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Pilih Layanan"}),(0,r.jsx)("option",{value:"Grooming",children:"Grooming      : 75K"}),(0,r.jsx)("option",{value:"Hair Straightening",children:"Hair Straightening     : 50K"}),(0,r.jsx)("option",{value:"Hair Spa",children:"Hair Spa   : 50K"}),(0,r.jsx)("option",{value:"Waxing",children:"Waxing   : 35K"}),(0,r.jsx)("option",{value:"Hot Towel Service",children:"Hot Towel Service   : 20K"}),(0,r.jsx)("option",{value:"Hair Coloring",children:"Hair Coloring   : 125K"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>j(a),className:"bg-red-600 text-white px-3 rounded-lg hover:bg-red-700",children:"Hapus"})]},a)),(0,r.jsx)("button",{type:"button",onClick:()=>{d([...o,""])},className:"mt-2 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Tambah Layanan"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300",children:"Tanggal Reservasi"}),(0,r.jsx)("input",{type:"date",id:"date",name:"date",value:a.date,onChange:v,min:new Date().toISOString().split("T")[0],required:!0,className:"mt-1 block w-full p-2 bg-transparent border border-gray-600 rounded-lg shadow-sm text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-300",children:"Waktu Reservasi"}),(0,r.jsxs)("select",{id:"time",name:"time",value:a.time,onChange:v,required:!0,className:"mt-1 block w-full p-2 bg-transparent border border-gray-600 rounded-lg shadow-sm text-white",children:[(0,r.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Pilih Waktu"}),Array.from({length:27},(e,a)=>{let t=Math.floor(a/2)+9,s="".concat(t.toString().padStart(2,"0"),":").concat(a%2==0?"00":"30");return(0,r.jsx)("option",{value:s,className:"bg-black text-white",children:s},s)})]})]}),(0,r.jsx)("div",{className:"mt-4 text-white text-lg",children:(0,r.jsxs)("p",{children:["Total Harga: Rp ",u.toLocaleString()]})}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"w-full text-white py-2 rounded-lg shadow-lg transition ".concat(b?"bg-gray-500 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-700"),children:b?"Memproses...":"Buat Reservasi"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,882,459,441,517,358],()=>a(4301)),_N_E=e.O()}]);