(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5806:(e,t,s)=>{Promise.resolve().then(s.bind(s,3704)),Promise.resolve().then(s.t.bind(s,5786,23))},708:(e,t,s)=>{"use strict";s.d(t,{db:()=>i,j:()=>c,k:()=>o});var a=s(9904),r=s(399),l=s(7058);let n=(0,a.Wp)({apiKey:"AIzaSyA57D78rdd5x_RCNQT1EhBtuBdrdbFodLs",authDomain:"barber-15b48.firebaseapp.com",projectId:"barber-15b48",storageBucket:"barber-15b48.firebasestorage.app",messagingSenderId:"215556113867",appId:"1:215556113867:web:30c08a848e185dcf0d224e",measurementId:"G-0KZEYZWEFL"}),i=(0,l.aU)(n),c=(0,r.xI)(n),o=(0,l.aU)(n)},6046:(e,t,s)=>{"use strict";var a=s(6658);s.o(a,"redirect")&&s.d(t,{redirect:function(){return a.redirect}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3588:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(5155),r=s(2115),l=s(399),n=s(708),i=s(7058),c=s(6046);let o=new l.HF,d=async(e,t)=>{if(!e)return;let s=(0,i.H9)(n.k,"users",e.uid);if(!(await (0,i.x7)(s)).exists())try{await (0,i.BN)(s,{displayName:e.displayName,email:e.email,createdAt:new Date,...t})}catch(e){console.error("Error creating user document:",e)}};function u(e){let{isOpen:t,onClose:s}=e,[i,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[b,m]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[w,y]=(0,r.useState)(!1),v=(0,c.useRouter)(),N=async e=>{e.preventDefault();try{if(w){if(x!==b){j("Passwords do not match");return}let e=await (0,l.eJ)(n.j,i,x);await (0,l.r7)(e.user,{displayName:f}),await d(e.user,{registrationType:"email"}),v.push("/biodata")}else await (0,l.x9)(n.j,i,x);s(),C(),v.push("/biodata")}catch(e){j(e.message||"Authentication failed")}},k=async()=>{try{let e=(await (0,l.df)(n.j,o)).user;await d(e,{registrationType:"google"}),s(),C(),v.push("/biodata")}catch(e){j(e.message||"Google sign-in failed")}},C=()=>{u(""),h(""),m(""),p(""),j("")};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#1a1310] rounded-lg p-8 max-w-md w-full shadow-lg border border-[#6c541d]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#f6c744]",children:w?"Register":"Sign In"}),(0,a.jsx)("button",{onClick:s,className:"text-[#f6c744] hover:text-white",type:"button",children:"âœ•"})]}),g&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:g}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[w&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[#f6c744] mb-2",children:"Username"}),(0,a.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-[#6c541d] rounded focus:outline-none focus:ring-2 focus:ring-[#f6c744] text-black",required:w,minLength:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[#f6c744] mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:i,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-[#6c541d] rounded focus:outline-none focus:ring-2 focus:ring-[#f6c744] text-black",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[#f6c744] mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",value:x,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-[#6c541d] rounded focus:outline-none focus:ring-2 focus:ring-[#f6c744] text-black",required:!0,minLength:6})]}),w&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[#f6c744] mb-2",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",value:b,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-[#6c541d] rounded focus:outline-none focus:ring-2 focus:ring-[#f6c744] text-black",required:w,minLength:6})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-[#f6c744] text-[#1a1310] py-2 rounded hover:bg-[#e0b73a]",children:w?"Register with Email":"Sign in with Email"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{onClick:k,type:"button",className:"w-full bg-transparent border border-[#6c541d] text-[#f6c744] py-2 rounded hover:bg-[#6c541d] hover:text-white flex items-center justify-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("button",{onClick:()=>{y(!w),C()},className:"text-[#f6c744] hover:text-white font-medium",children:w?"Already have an account? Sign in":"Need an account? Register"})})]})}):null}},3704:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(5155),r=s(2115),l=s(6046),n=s(7396),i=s(399),c=s(708),o=s(3588);function d(){let[e,t]=(0,r.useState)(!1),[s,d]=(0,r.useState)(null),u=(0,l.usePathname)();if((0,r.useEffect)(()=>{let e=(0,i.hg)(c.j,e=>{d(e)});return()=>e()},[]),["/member","/admin","/adminIsi","/orderAdmin"].includes(u))return null;let x=async()=>{try{await (0,i.CI)(c.j)}catch(e){console.error("Sign out failed:",e)}};return(0,a.jsxs)("header",{className:"absolute top-0 left-0 right-0 flex justify-between items-center px-10 py-6 z-50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.default,{href:"/admin",children:(0,a.jsx)("button",{className:"w-12 h-12 bg-yellow-600 rounded-full flex items-center justify-center text-2xl text-black hover:bg-yellow-500",children:"B"})}),(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:"BRBER"})]}),(0,a.jsxs)("nav",{className:"space-x-8 text-lg",children:[(0,a.jsx)(n.default,{href:"/",className:"text-white hover:text-yellow-600",children:"Home"}),(0,a.jsx)(n.default,{href:"/about",className:"text-white hover:text-yellow-600",children:"About"}),(0,a.jsx)(n.default,{href:"/service",className:"text-white hover:text-yellow-600",children:"Services"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(n.default,{href:s?"/home/booking":"#",children:(0,a.jsx)("button",{className:"bg-yellow-600 text-black px-6 py-2 font-semibold rounded hover:bg-yellow-500 ".concat(s?"":"cursor-not-allowed opacity-50"),disabled:!s,children:"BOOKING NOW"})}),(0,a.jsx)(n.default,{href:s?"/order":"#",children:(0,a.jsx)("button",{className:"bg-yellow-600 text-black px-6 py-2 font-semibold rounded hover:bg-yellow-500",children:"OUR ORDER"})}),s?(0,a.jsx)("button",{onClick:x,className:"bg-yellow-600 text-black px-6 py-2 font-semibold rounded hover:bg-yellow-500",children:"LOGOUT"}):(0,a.jsx)("button",{onClick:()=>t(!0),className:"bg-yellow-600 text-black px-6 py-2 font-semibold rounded hover:bg-yellow-500",children:"LOGIN"})]}),(0,a.jsx)(o.A,{isOpen:e,onClose:()=>t(!1)})]})}},5786:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[523,992,882,459,396,441,517,358],()=>t(5806)),_N_E=e.O()}]);